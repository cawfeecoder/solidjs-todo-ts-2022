import{c as V,a as X,p as g,d as Y,b as Z,i as _,e as H,f as B,s as T,F as ee,g as S,t as k,r as te}from"./vendor.41484950.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};le();const[n,d]=V({todos:Array()});localStorage.todos&&d({todos:JSON.parse(localStorage.todos)});X(()=>{localStorage.todos=JSON.stringify(n.todos)});const ie=l=>{d("todos",g(e=>{e.push({id:`id_${Date.now()}`,title:l.title,completed:!1,editing:!1})}))},oe=({id:l})=>{d("todos",g(e=>{let r=e.map(a=>a.id).indexOf(l);e.splice(r,1)}))},se=({id:l})=>{d("todos",e=>e.id===l,g(e=>{e.completed=!e.completed}))},ne=({id:l})=>{d("todos",e=>e.id===l,g(e=>{e.editing=!0}))},ce=()=>{d("todos",l=>l.completed==!0,g(l=>{l.completed=!1}))},re=l=>{d("todos",e=>e.id===l.id,g(e=>{e.title=l.title,e.editing=l.editing,e.completed=l.completed}))},K=()=>n.todos.some(l=>l.completed),R=()=>n.todos.every(l=>l.completed),de=l=>{switch(l){case"completed":return n.todos.filter(e=>e.completed);case"active":return n.todos.filter(e=>!e.completed);default:return n.todos}},ae=()=>{let l=!R()||!K();d("todos",g(e=>{e.map(r=>r.completed=l)}))},c={add:ie,remove:oe,toggle:se,clearCompleted:ce,update:re,toggleAll:ae,edit:ne},G={hasCompleted:K,isAllCompleted:R,applyFilter:de},ue=k('<section class="todoapp"><header class="header"><h1>todos</h1><input class="new-todo" placeholder="What needs to be done?" autofocus></header><section class="main"><input id="toggle-all" class="toggle-all" type="checkbox"><label for="toggle-all">Mark all as complete</label><ul class="todo-list"></ul></section><footer class="footer"><span class="todo-count"><strong></strong> <!> left</span><ul class="filters"><li><a href="#/">All</a></li><li><a href="#/active">Active</a></li><li><a href="#/completed">Completed</a></li></ul><button class="clear-completed">Clear completed</button></footer></section>'),fe=k('<footer class="info"><p>Double-click to edit a todo</p><p>Created by <a href="https://dev.to/cawfeecoder">Nicholas Frush</a></p><p>Project on GitHub: <a href="https://github.com/cawfeecoder/solidjs-todo-ts-2022">SolidJS Todo Typescript 2022</a></p></footer>'),ge=k('<li><div class="view"><input class="toggle" type="checkbox"><label></label><button class="destroy"></button></div><input class="edit"></li>'),$e=()=>{let[l,e]=Z(document.location.hash.replace(/^#\//,""));return[(()=>{const r=ue.cloneNode(!0),a=r.firstChild,o=a.firstChild,s=o.nextSibling,u=a.nextSibling,x=u.firstChild,W=x.nextSibling,z=W.nextSibling,C=u.nextSibling,h=C.firstChild,N=h.firstChild,Q=N.nextSibling,A=Q.nextSibling;A.nextSibling;const E=h.nextSibling,L=E.firstChild,w=L.firstChild,F=L.nextSibling,O=F.firstChild,U=F.nextSibling,J=U.firstChild,P=E.nextSibling;return s.$$keyup=t=>{t.key==="Enter"&&t.target.value.length&&(c.add({title:t.target.value}),t.target.value="")},x.$$click=()=>c.toggleAll(),_(z,H(ee,{get each(){return G.applyFilter(l())},children:(t,j)=>(()=>{const f=ge.cloneNode(!0),v=f.firstChild,$=v.firstChild,p=$.nextSibling,b=p.nextSibling,y=v.nextSibling;return $.$$click=()=>c.toggle(t),p.$$dblclick=i=>{c.edit(t),(i.target.parentNode?.parentNode?.childNodes[1]).focus()},_(p,()=>t.title),b.$$click=()=>c.remove(t),y.addEventListener("blur",i=>{let m=i.target.value;c.update({...t,editing:!1,title:m})}),y.$$keyup=i=>{i.key==="Enter"&&i.target.value&&c.update({...t,editing:!1,title:i.target.value}),i.key==="Escape"&&(i.target.value=t.title,c.update({...t,editing:!1}))},B(i=>{const m=t.id,D=t.editing,I=t.completed,M=t.completed,q=t.title;return m!==i._v$7&&T(f,"id",i._v$7=m),D!==i._v$8&&f.classList.toggle("editing",i._v$8=D),I!==i._v$9&&f.classList.toggle("completed",i._v$9=I),M!==i._v$10&&($.checked=i._v$10=M),q!==i._v$11&&(y.value=i._v$11=q),i},{_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0}),f})()})),_(N,()=>n.todos.length),_(h,()=>n.todos.length>1?"items":"item",A),w.$$click=()=>e(""),O.$$click=()=>e("active"),J.$$click=()=>e("completed"),P.$$click=()=>c.clearCompleted(),B(t=>{const j=`display: ${n.todos.length>0?"block":"none"}`,f=`display: ${n.todos.length>0?"block":"none"}`,v=l()==""?"selected":"",$=l()=="active"?"selected":"",p=l()=="completed"?"selected":"",b=`display: ${G.hasCompleted()?"block":"none"}`;return t._v$=S(u,j,t._v$),t._v$2=S(C,f,t._v$2),v!==t._v$3&&(w.className=t._v$3=v),$!==t._v$4&&(O.className=t._v$4=$),p!==t._v$5&&(J.className=t._v$5=p),t._v$6=S(P,b,t._v$6),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})(),fe.cloneNode(!0)]};Y(["keyup","click","dblclick"]);te(()=>H($e,{}),document.getElementById("root"));
